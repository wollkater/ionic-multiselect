!function(){"use strict";angular.module("ionic-multiselect",[]).filter("translateItem",["$injector","$parse",function(e,t){return function(a,n){var l;try{var l=e.get("$filter"),r=t("item."+n.valueProperty),o=r(n);return l("translate")(n.indexTranslate+o)}catch(i){return""}}}]).filter("showTextData",["$injector",function(e){return function(t,a){var n;try{var n=e.get("$filter")}catch(l){}var r=[];if(t.indexOf("^")>-1){r=t.split("^"),r=r.filter(Boolean);for(var o=r.length,i=0;o>i;i++){if(a.isTranslate)var u=n("translate")(a.indexTranslate+r[i].trim());else var u=r[i].trim();r[i]=u}}else a.isTranslate?r.push(n("translate")(a.indexTranslate+t.trim())):r.push(t);return 0==r.length?"":r}}]).directive("multiselect",["$ionicModal","$log","$filter","$location",function(e,t,a,n){return{restrict:"E",template:function(e,t){return t.templateUrl?"<ng-include src=\"'"+t.templateUrl+"'\"></ng-include>":""},scope:{items:"=",valueChangedCallback:"&valueChanged",modalClosedCallback:"&modalClosed",getCustomTextCallback:"&getCustomText"},link:function(t,l,r){t.headerText=r.headerText||"",t.text=r.text||"",t.defaultText=r.text||"",t.checkedProperty=r.checkedProperty||"checked",t.textProperty=r.textProperty||"text",t.valueProperty=r.valueProperty||"id",t.isTranslate="true"===r.isTranslate||!1,t.indexTranslate=r.indexTranslate||"",t.modalTemplateUrl=r.modalTemplateUrl,t.modalAnimation=r.modalAnimation,t.queryId=r.queryId||"search",t.noteText=r.noteText||"",t.modalTemplateUrl?e.fromTemplateUrl(t.modalTemplateUrl,{scope:t,animation:t.modalAnimation}).then(function(e){t.modal=e}):t.modal=e.fromTemplate("",{scope:t,animation:t.modalAnimation}),t.$on("$destroy",function(){t.modal.remove()}),t.getItemText=function(e){return t.textProperty?e[t.textProperty]:e},t.getItemValue=function(e){return t.valueProperty?e[t.valueProperty]:e},t.getText=function(e){var a=e?e:[],n="";return a.length?angular.forEach(t.items,function(e,l){for(var r=0;r<a.length;r++)if(t.getItemValue(e)==a[r]){n+=t.isTranslate?(n.length?"^":"")+t.getItemValue(e):(n.length?"^":"")+t.getItemText(e);break}}):n=t.defaultText,n.length||t.isTranslate||(n=t.defaultText),t.isTranslate&&""==n.trim()&&(n="^"),t.getCustomTextCallback({value:e})||n},t.hideItems=function(e){t.modal.hide()},t.onCheckValueChanged=function(e,a){"undefined"!=typeof e&&t.valueChangedCallback({value:e})},t.onValueChanged=function(e,a){t.allChecked=!0,t.noneChecked=!0,angular.forEach(t.items,function(e){e.checked?t.noneChecked=!1:t.allChecked=!1}),t.text=t.getText(e)},t.showItems=function(e){e.preventDefault(),t.modal.show()},t.validate=function(e){if(t.value=[],t.items){var l=[];angular.forEach(t.items,function(e,a){e[t.checkedProperty]&&(t.value.push(t.getItemValue(e)),l.push(e))}),t.filterAmount=l.length,t.modalClosedCallback({value:l}),t.items=a("orderBy")(t.items,["-checked","name"],!1),n.search(t.queryId,t.value)}t.hideItems()},t.tagAll=function(e){angular.forEach(t.items,function(t){t.checked=e})},t.$watch(function(){return t.filterAmount},t.onCheckValueChanged,!0),t.$watch(function(){return t.items},t.onValueChanged,!0)}}}])}();